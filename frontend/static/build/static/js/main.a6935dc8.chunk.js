(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{31:function(e,t,a){e.exports=a(42)},37:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),o=a.n(r),i=(a(36),a(37),a(24)),c=a(9),s=a(10),u=a(5),m=a(13),h=a(12),d=a(44),p=a(45);function f(e){return l.a.createElement("div",{className:"list-group"},l.a.createElement("div",{className:"list-group-item preview"},l.a.createElement("h4",null,e.article.title),l.a.createElement("div",{className:"preview-para"},l.a.createElement("p",{className:"todo-title"},e.article.body)),l.a.createElement("button",{className:"btn view-art",type:"button",onClick:function(){return e.handleModal(e.article.id)}},"View Article")))}function b(e){return l.a.createElement("div",{className:"list-group"},l.a.createElement("div",{className:"list-group-item"},l.a.createElement("p",null,e.article.title),l.a.createElement("button",{className:"btn view-art",type:"button",onClick:function(){return e.handleModal(e.article.id)}},"View Article")))}var E=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={category:"Top Stories",show:!1,title:"",body:"",articleDisplay:{}},n.handleClick=n.handleClick.bind(Object(u.a)(n)),n.handleModal=n.handleModal.bind(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(e){this.setState({category:e})}},{key:"handleModal",value:function(e){var t=this.props.articles.findIndex((function(t){return t.id===e}));this.setState({articleDisplay:this.props.articles[t]}),this.setState({show:!this.state.show})}},{key:"render",value:function(){var e,t,a=this,n=this.state.category;return"Top Stories"===n?(e=this.props.articles.filter((function(e){return e.top_story})).map((function(e){return l.a.createElement(f,{key:e.id,article:e,handleModal:a.handleModal})})),t=this.props.articles.filter((function(e){return!e.top_story})).map((function(e){return l.a.createElement(b,{key:e.id,article:e,handleModal:a.handleModal})}))):"Sports"===n?(e=this.props.articles.filter((function(e){return"sports"===e.category})).map((function(e){return l.a.createElement(f,{key:e.id,article:e,handleModal:a.handleModal})})),t=this.props.articles.filter((function(e){return"sports"!==e.category})).map((function(e){return l.a.createElement(b,{key:e.id,article:e,handleModal:a.handleModal})}))):"Food"===n?(e=this.props.articles.filter((function(e){return"food"===e.category})).map((function(e){return l.a.createElement(f,{key:e.id,article:e,handleModal:a.handleModal})})),t=this.props.articles.filter((function(e){return"food"!==e.category})).map((function(e){return l.a.createElement(b,{key:e.id,article:e,handleModal:a.handleModal})}))):"Travel"===n?(e=this.props.articles.filter((function(e){return"travel"===e.category})).map((function(e){return l.a.createElement(f,{key:e.id,article:e,handleModal:a.handleModal})})),t=this.props.articles.filter((function(e){return"travel"!==e.category})).map((function(e){return l.a.createElement(b,{key:e.id,article:e,handleModal:a.handleModal})}))):"Entertainment"===n&&(e=this.props.articles.filter((function(e){return"entertainment"===e.category})).map((function(e){return l.a.createElement(f,{key:e.id,article:e,handleModal:a.handleModal})})),t=this.props.articles.filter((function(e){return"entertainment"!==e.category})).map((function(e){return l.a.createElement(b,{key:e.id,article:e,handleModal:a.handleModal})}))),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row page-content"},l.a.createElement("div",{className:"col-6"},l.a.createElement("section",{id:"pages",className:"row"},l.a.createElement("button",{className:" btn",onClick:function(){return a.handleClick("Top Stories")}},"Top Stories"),l.a.createElement("button",{className:" btn",onClick:function(){return a.handleClick("Sports")}},"Sports"),l.a.createElement("button",{className:" btn",onClick:function(){return a.handleClick("Food")}},"Food"),l.a.createElement("button",{className:" btn",onClick:function(){return a.handleClick("Travel")}},"Travel"),l.a.createElement("button",{className:" btn",onClick:function(){return a.handleClick("Entertainment")}},"Entertainment")),l.a.createElement("h1",null,this.state.category),e),l.a.createElement("div",{className:"col-3"},l.a.createElement("h2",null,"This week"),t)),l.a.createElement(d.a,{dialogClassName:"display-article-modal",show:this.state.show},l.a.createElement(d.a.Header,null,this.state.articleDisplay.title),l.a.createElement(d.a.Body,null,this.state.articleDisplay.body),l.a.createElement(d.a.Footer,null,l.a.createElement(p.a,{onClick:function(e){return a.setState({show:!1})}},"Close"))))}}]),a}(l.a.Component),y=a(20),v=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={title:"",body:"",category:"travel",status:"draft",author:"",top_story:!1},n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return l.a.createElement("form",{className:"col-12",onSubmit:function(t){return e.props.handleSubmit(t,e.state)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",className:"form-control",id:"title",name:"title",value:this.state.title,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"body"},"Body"),l.a.createElement("textarea",{rows:"5",type:"text",className:"form-control",id:"body",name:"body",value:this.state.body,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"category"},"Category"),l.a.createElement("select",{id:"category",className:"form-control",name:"category",value:this.state.category,onChange:this.handleChange},l.a.createElement("option",null,"travel"),l.a.createElement("option",null,"sports"),l.a.createElement("option",null,"entertainment"),l.a.createElement("option",null,"food")),l.a.createElement("label",{htmlFor:"status"},"Post Status"),l.a.createElement("select",{id:"status",className:"form-control",name:"status",value:this.state.status,onChange:this.handleChange},l.a.createElement("option",null,"draft"),l.a.createElement("option",null,"submit"),l.a.createElement("option",null,"publish")),l.a.createElement("label",{htmlFor:"author"},"Author"),l.a.createElement("input",{type:"text",className:"form-control",id:"author",name:"author",value:this.state.author,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save"))}}]),a}(l.a.Component);function g(e){return l.a.createElement("div",{className:"list-group"},l.a.createElement("div",{className:"list-group-item preview"},l.a.createElement("h4",null,e.article.title),l.a.createElement("div",{className:"preview-para"},l.a.createElement("p",{className:"todo-title"},e.article.body)),l.a.createElement("button",{className:"btn view-art",type:"button",onClick:function(){return e.handleModal(e.article.id)}},"Edit Article")))}var k=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={displayStatus:"All Posts",show:!1,articleDisplay:{},title:"",body:"",category:"",status:"",author:"",top_story:!1},n.handleClick=n.handleClick.bind(Object(u.a)(n)),n.handleModal=n.handleModal.bind(Object(u.a)(n)),n.handleChange=n.handleChange.bind(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(e){this.setState({displayStatus:e})}},{key:"handleModal",value:function(e){var t=this.props.articles.findIndex((function(t){return t.id===e}));this.setState({articleDisplay:this.props.articles[t]}),this.setState({show:!this.state.show})}},{key:"handleChange",value:function(e){this.setState(Object(y.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e,t=this,a=this.state.displayStatus;return"All Posts"===a?e=this.props.articles.map((function(e){return l.a.createElement(g,{key:e.id,article:e,handleModal:t.handleModal})})):"Drafts"===a?e=this.props.articles.filter((function(e){return"draft"===e.status})).map((function(e){return l.a.createElement(g,{key:e.id,article:e,handleModal:t.handleModal})})):"Submited"===a?e=this.props.articles.filter((function(e){return"submit"===e.status})).map((function(e){return l.a.createElement(g,{key:e.id,article:e,handleModal:t.handleModal})})):"Published"===a&&(e=this.props.articles.filter((function(e){return"publish"===e.status})).map((function(e){return l.a.createElement(g,{key:e.id,article:e,handleModal:t.handleModal})}))),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row page-content"},l.a.createElement("div",{className:"col-6"},l.a.createElement("section",{id:"pages",className:"row"},l.a.createElement("button",{className:" btn",onClick:function(){return t.handleClick("All Posts")}},"All Posts"),l.a.createElement("button",{className:" btn",onClick:function(){return t.handleClick("Drafts")}},"Drafts"),l.a.createElement("button",{className:" btn",onClick:function(){return t.handleClick("Submited")}},"Submited"),l.a.createElement("button",{className:" btn",onClick:function(){return t.handleClick("Published")}},"Published")),l.a.createElement("h1",null,this.state.displayStatus),e)),l.a.createElement(d.a,{show:this.state.show},l.a.createElement(d.a.Header,null,this.state.articleDisplay.title),l.a.createElement(d.a.Body,null,l.a.createElement("form",{className:"col-12",onSubmit:function(e){return t.props.editArticle(e,t.state,t.state.articleDisplay.id)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"title"},"Title"),l.a.createElement("input",{type:"text",className:"form-control",id:"title",name:"title",value:this.state.title,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"body"},"Body"),l.a.createElement("textarea",{rows:"5",type:"text",className:"form-control",id:"body",name:"body",value:this.state.body,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"category"},"Category"),l.a.createElement("select",{id:"category",className:"form-control",name:"category",value:this.state.category,onChange:this.handleChange},l.a.createElement("option",null,"travel"),l.a.createElement("option",null,"sports"),l.a.createElement("option",null,"entertainment"),l.a.createElement("option",null,"food")),l.a.createElement("label",{htmlFor:"status"},"Post Status"),l.a.createElement("select",{id:"status",className:"form-control",name:"status",value:this.state.status,onChange:this.handleChange},l.a.createElement("option",null,"draft"),l.a.createElement("option",null,"submit"),l.a.createElement("option",null,"publish")),l.a.createElement("label",{htmlFor:"author"},"Author"),l.a.createElement("input",{type:"text",className:"form-control",id:"author",name:"author",value:this.state.author,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save"))),l.a.createElement(d.a.Footer,null,l.a.createElement(p.a,{onClick:function(){return t.props.deleteArticle(t.state.articleDisplay.id)}},"Delete"),l.a.createElement(p.a,{onClick:function(e){return t.setState({show:!1})}},"Close"))))}}]),a}(l.a.Component),C=a(30),N=a.n(C),S=(a(41),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={articles:[],page:"home"},n.handleSubmit=n.handleSubmit.bind(Object(u.a)(n)),n.handleClick=n.handleClick.bind(Object(u.a)(n)),n.deleteArticle=n.deleteArticle.bind(Object(u.a)(n)),n.editArticle=n.editArticle.bind(Object(u.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/").then((function(e){return e.json()})).then((function(t){return e.setState({articles:t})})).catch((function(e){return console.log("Error: ",e)}))}},{key:"handleSubmit",value:function(e,t){var a=this;e.preventDefault();var n=N.a.get("csrftoken");console.log("data",t),fetch("/api/v1/",{method:"POST",headers:{"X-CSRFToken":n,"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((function(e){console.log("firing",e);var t=[].concat(Object(i.a)(a.state.articles),[e]);a.setState({articles:t})})).catch((function(e){console.error("Error:",e)}))}},{key:"deleteArticle",value:function(e){var t=this;fetch("/api/v1/".concat(e,"/"),{method:"DELETE"}).then((function(e){return e})).then((function(a){var n=Object(i.a)(t.state.articles),l=n.findIndex((function(t){return t.id===e}));n.splice(l,1),t.setState({articles:n})})).catch((function(e){return console.log("Error:",e)}))}},{key:"editArticle",value:function(e,t,a){e.preventDefault(),fetch("api/v1/".concat(a,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("Error:",e)}))}},{key:"handleClick",value:function(e){this.setState({page:e})}},{key:"render",value:function(){var e,t=this,a=this.state.page;return"home"===a?e=l.a.createElement(E,{articles:this.state.articles}):"form"===a?e=l.a.createElement(v,{handleSubmit:this.handleSubmit}):"posts"===a&&(e=l.a.createElement(k,{articles:this.state.articles,deleteArticle:this.deleteArticle,editArticle:this.editArticle})),l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-dark"},l.a.createElement("p",{className:"webName"},"NEWS SITE"),l.a.createElement("div",{className:"pages"},l.a.createElement("button",{className:"btn  menu-button",type:"button",onClick:function(){return t.handleClick("home")}},"Home"),l.a.createElement("button",{className:"btn  menu-button",type:"button",onClick:function(){return t.handleClick("form")}},"Form"),l.a.createElement("button",{className:"btn  menu-button",type:"button",onClick:function(){return t.handleClick("posts")}},"Posts"))),l.a.createElement("div",{className:"container fullpage"},e))}}]),a}(l.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.a6935dc8.chunk.js.map